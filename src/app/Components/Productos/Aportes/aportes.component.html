<form>
    <form method="get" [formGroup]="aportesFrom">
        <div class="panel panel-white">
            <div class="panel-heading">
                <h6 class="panel-title">Datos{{operacionEscogida}}</h6>
                <div class="heading-elements">
                    <ul class="icons-list">
                        <li>
                            <a data-toggle="modal" data-target="#ModalAyuda">
                                <i class=" icon-question6 " title="Ayuda" target="_blank" data-popup="tooltip" data-trigger="hover" data-placement="bottom"></i>
                            </a>
                        </li>
                        <li>
                            <a data-action="collapse"></a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="panel-body">
                <div class="col-xs-12 col-md-12 col-lg-12">
                    <div class="col-xs-12 col-md-12 col-lg-12">

                        <!-- Inicio Operación -->
                        <form method="get" [formGroup]="aportesOperacionFrom">
                            <label class="col-xs-12 col-md-3 col-lg-1 textNegrilla">Operación: <span class="grande">*</span></label>
                            <div class="col-xs-10 col-md-8 col-lg-4">
                                <select class="form-control" formControlName="Codigo" id="select" (change)=" ValorSeleccionado()">
                                <option *ngFor="let operacionAportes of resultOperaciones" [value]="operacionAportes.ERP_tblOperacion.IdOperacion">{{operacionAportes.ERP_tblOperacion.Descripcion}}</option>
                            </select>
                                <span class="help-block validationSpan" *ngIf="aportesOperacionFrom.controls['Codigo'].errors?.['required'] && (aportesOperacionFrom.controls['Codigo'].dirty || aportesOperacionFrom.controls['Codigo'].touched)">
                        La operación es obligatoria.
                        </span>
                            </div>
                            <div class="col-xs-1 col-md-1 col-lg-1">
                            </div>
                        </form>
                        <!-- Fin Operación -->
                    </div>

                </div>
                <div class="col-md-12  col-sm-12 col-lg-12" id="PanelDatos">
                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <br/>
                        <!-- Inicio Cuenta -->
                        <div class="col-xs-12 col-md-3 col-lg-1">
                            <label class="textNegrilla">Cuenta:</label>
                        </div>
                        <div class="col-xs-2 col-md-2 col-lg-1">
                            <input type="text" class="form-control" formControlName="IdOficina" [attr.disabled]="BloquearConsultaCuenta" maxlength="3" (blur)="ValidarIdOficina()">
                            <span class="help-block validationSpan" *ngIf="aportesFrom.controls['IdOficina'].errors?.['pattern']">
                                La cuenta solo acepta números.
                                </span>
                        </div>
                        <div class="col-xs-2 col-md-2 col-lg-1">
                            <input type="text" class="form-control" formControlName="IdProductoCuenta" [attr.disabled]="BloquearConsultaCuenta" maxlength="3" (blur)="ValidarIdProducto()">
                            <span class="help-block validationSpan" *ngIf="aportesFrom.controls['IdProductoCuenta'].errors?.['pattern']">
                                La cuenta solo acepta números.
                                </span>
                        </div>
                        <div class="col-xs-3 col-md-2 col-lg-1">
                            <input type="text" class="form-control" formControlName="IdConsecutivo" [attr.disabled]="BloquearConsultaCuenta" maxlength="7" (blur)="ValidarIdConsecutivo()">
                            <span class="help-block validationSpan" *ngIf="aportesFrom.controls['IdConsecutivo'].errors?.['pattern']">
                                La cuenta solo acepta números.
                                </span>
                        </div>
                        <div class="col-xs-3 col-md-2 col-lg-1">
                            <input type="text" class="form-control" formControlName="IdDigito" (blur)="BuscarPorCuenta()" [attr.disabled]="BloquearConsultaCuenta" maxlength="1" (blur)="ValidarIdDigito()">
                            <span class="help-block validationSpan" *ngIf="aportesFrom.controls['IdDigito'].errors?.['pattern']">
                                La cuenta solo acepta números.
                                </span>
                        </div>

                        <div class="col-xs-1 col-md-1 col-lg-2">
                        </div>
                        <!-- Fin Cuenta -->

                        <!-- Inicio Buscar -->
                        <div class="col-xs-12 col-md-3 col-lg-1">
                            <label class="textNegrilla">Buscar:</label>
                        </div>
                        <div class="col-xs-12 col-md-3 col-lg-1">
                            <input type="text" class="form-control" tooltip="Documento" id="selectBuscar" placement="top" show-delay="500" formControlName="BuscarDocumento" (keypress)="LimpiarCampos('BuscarDocumento')" [attr.disabled]="BloquearBuscar" />
                            <span class="help-block validationSpan" *ngIf="aportesFrom.controls['BuscarDocumento'].errors?.['pattern']">
                                El documento solo acepta números.
                                </span>
                        </div>
                        <div class="col-xs-12 col-md-5 col-lg-2">
                            <input type="text" class="form-control pmayuscula" tooltip="Nombre" id="selectBuscarNombre" placement="top" show-delay="500" formControlName="BuscarNombre" (keypress)="LimpiarCampos('BuscarNombre')" [attr.disabled]="BloquearBuscar" />
                        </div>
                        <div class="col-xs-1 col-md-1 col-lg-1">
                            <button type="button" class="btn Gt-btn-verde btn-icon" (click)="BotonBuscarAportes()" [attr.disabled]="BloquearBuscar">
                            <i class="icon-search4"></i>
                        </button>
                        </div>
                        <!-- Fin Buscar -->
                    </div>

                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <br/>
                        <!-- Inicio Asociado -->
                        <div class="col-xs-12 col-md-3 col-lg-1">
                            <label class="textNegrilla">Asociado:</label>
                            <span class="grande">*</span>
                        </div>
                        <div class="col-xs-4 col-md-3 col-lg-2">
                            <input type="text" class="form-control" id="selectAsociado" formControlName="NumeroDocumento" (blur)="BuscarAsociado()" [attr.disabled]="BloquearAsociado" (keypress)="LimpiarCampos('NumeroDocumento')" maxlength="15" />                           
                        </div>
                        <div class="col-xs-6 col-md-5 col-lg-3">
                            <input type="text" class="form-control pmayuscula" formControlName="Nombre" [attr.disabled]="Bloquear" [attr.disabled]="BloquearAsociado" (keypress)="LimpiarCampos('Nombre')">
                        </div>
                        <div class="col-xs-1 col-md-1 col-lg-1">
                            <button type="button" class="btn Gt-btn-verde btn-icon legitRipple" (click)="BuscarAsociado()" [attr.disabled]="BloquearAsociado">
                                <i class="icon-search4"></i>
                            </button>
                        </div>
                        <!-- Fin Asociado -->

                        <!-- Inicio Oficina -->
                        <div class="col-xs-12 col-md-3 col-lg-1">
                            <label class="textNegrilla">Oficina:</label>
                            <span class="grande"> *</span>
                        </div>
                        <div class="col-xs-4 col-md-3 col-lg-1">
                            <input type="text" class="form-control" formControlName="NumeroOficina" [attr.disabled]="Bloquear" />
                        </div>
                        <div class="col-xs-6 col-md-5 col-lg-2">
                            <input type="text" class="form-control" formControlName="NombreOficina" [attr.disabled]="Bloquear" />
                        </div>
                        <!-- Fin Oficina -->
                    </div>

                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <br/>
                        <!-- Inicio Producto -->
                        <div class="col-xs-12 col-md-3 col-lg-1">
                            <label class="textNegrilla">Producto:</label>
                            <span class="grande"> *</span>
                        </div>
                        <div class="col-xs-4 col-md-3 col-lg-1">
                            <input type="text" class="form-control" formControlName="IdProducto" (change)="BuscarProducto()" (keypress)="LimpiarCampos('IdProducto')" [attr.disabled]="Bloquear" />
                        </div>
                        <div class="col-xs-6 col-md-5 col-lg-4">
                            <input type="text" class="form-control" formControlName="DescripcionProducto" (keypress)="LimpiarCampos('DescripcionProducto')" [attr.disabled]="Bloquear">
                        </div>
                        <div class="col-xs-1 col-md-1 col-lg-1">
                            <button type="button" class="btn Gt-btn-verde btn-icon legitRipple" (click)="BuscarProducto()" [attr.disabled]="Bloquear">
                                <i class="icon-search4"></i>
                            </button>
                        </div>
                        <!-- Fin Producto -->

                        <!-- Inicio OperacionPermitida -->
                        <div class="col-xs-12 col-md-3 col-lg-2">
                            <label class="textNegrilla">Operación permitida:</label>
                            <span class="grande"> *</span>
                        </div>
                        <div class="col-xs-10 col-md-8 col-lg-2">
                            <input type="text" class="form-control" formControlName="DescripcionOperacion" [attr.disabled]="Bloquear" />
                        </div>
                        <div class="col-xs-2 col-md-1 col-lg-2">
                        </div>
                        <!-- Fin OperacionPermitida -->
                    </div>

                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <br/>
                        <!-- Inicio Asesor -->
                        <div class="col-xs-12 col-md-3 col-lg-1">
                            <label class="textNegrilla">Asesor:</label>
                            <span class="grande"> *</span>
                        </div>
                        <div class="col-xs-4 col-md-3 col-lg-1">
                            <input type="text" class="form-control" formControlName="IdAsesor" (change)="BuscarAsesor()" (keypress)="LimpiarCampos('IdAsesor')" [attr.disabled]="Bloquear" maxlength="4" />
                        </div>
                        <div class="col-xs-6 col-md-5 col-lg-4">
                            <input type="text" class="form-control pmayuscula" formControlName="NombreAsesor" (keypress)="LimpiarCampos('NombreAsesor')" [attr.disabled]="Bloquear" />
                        </div>
                        <div class="col-xs-1 col-md-1 col-lg-1">
                            <button type="button" class="btn Gt-btn-verde btn-icon legitRipple" (click)="BuscarAsesor()" [attr.disabled]="Bloquear">
                                <i class="icon-search4"></i>
                            </button>
                        </div>
                        <!-- Fin Asesor -->

                        <!-- Inicio EstadoCuenta -->
                        <div class="col-xs-10 col-md-8 col-lg-2">
                            <label class="textNegrilla">Estado cuenta:</label>
                            <span class="grande"> *</span>
                        </div>
                        <div class="col-xs-10 col-md-8 col-lg-2">
                            <select class="form-control" id="SelectEstadoCuenta" name="SelectEstadoCuenta" formControlName="IdEstado" *ngIf="!selectEstado" (change)="selectEstadoActivo()" [attr.disabled]="BloquearEstado">
                                <option selected="selected" value="0">-- Seleccione --</option>
                                <option *ngFor="let Estado of resultEstados" [value]="Estado.IdEstado">
                                            {{Estado.Descripcion}}</option>
                                </select>
                                <input type="text" class="form-control" formControlName="DescripcionEstado" *ngIf="!inputEstado" [attr.disabled]="Bloquear" />
                        </div>
                        <!-- Fin EstadoCuenta -->
                    </div>

                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <br/>
                        <!-- Inicio AsesorExterno -->
                        <form method="get" [formGroup]="AsesorFrom">
                            <div class="col-xs-12 col-md-3 col-lg-1">
                                <label class="textNegrilla">Asesor externo:</label>
                            </div>
                            <div class="col-xs-4 col-md-3 col-lg-1">
                                <input type="text" class="form-control" tooltip="Id Asesor" placement="top" show-delay="500" formControlName="strCodigo" (blur)="BuscarAsesorExternoCodigo()" [attr.disabled]="BloquearAsesorExterno" (keypress)="LimpiarCampos('strCodigo')" id="AsesorExterno"
                                    maxlength="4" #AsesorExterno />
                            </div>
                            <div class="col-xs-6 col-md-5 col-lg-4">
                                <input type="text" class="form-control pmayuscula" tooltip="Nombre asesor" placement="top" show-delay="500" formControlName="strNombre" [attr.disabled]="BloquearAsesorExterno" (keypress)="LimpiarCampos('strNombre')" />
                            </div>
                            <div class="col-xs-1 col-md-1 col-lg-1">
                                <button type="button" class="btn Gt-btn-verde btn-icon legitRipple" (click)="BuscarAsesorExternoTodos()" [attr.disabled]="BloquearAsesorExterno">
                                                <i class="icon-search4"></i></button>
                            </div>
                        </form>
                        <!-- Fin AsesorExterno -->

                        <!-- Inicio FormaPago -->
                        <div class="col-xs-12 col-md-3 col-lg-2">
                            <label class="textNegrilla">Forma pago:</label>
                            <span class="grande">*</span>
                        </div>
                        <div class="col-xs-10 col-md-8 col-lg-2" id="formaPagofocus">
                            <select class="form-control" name="select" id="selectFormaPago" formControlName="IdFormaPago" [attr.disabled]="BloquearFormaPago" (change)="FormaPagoSeleccionada()">
                                    <option *ngFor="let formapago of resultFormaPago" [value]="formapago.IdFormaPago">{{formapago.DescripcionFormaPago}}</option>
                            </select>
                        </div>
                        <!-- Fin FormaPago -->
                        <div class="col-xs-12 col-md-12 col-lg-12 text-right">
                            <br>
                            <button type="button" style="visibility:hidden" #BuscarAsociados class="btn Gt-btn-verde btn-icon legitRipple" data-toggle="modal" data-target="#ModalBuscarAsociados"></button>

                            <input type="button" class="btn Gt-btn-morado" value="Limpiar" (click)="clearFormAportes()" /> &nbsp; &nbsp;

                            <input type="button" *ngIf="!btnGuardar" class="btn Gt-btn-verde" value="Guardar" (click)="GuardarAportes()" [disabled]="!aportesFrom.valid" />

                            <input type="button" *ngIf="!btnActualizar" class="btn Gt-btn-verde" value="Actualizar" (click)="ActualizarAportes()" [disabled]="!bloquearbtnActalizar" />

                            <input type="button" *ngIf="!btnCambiarEstado" class="btn Gt-btn-verde" value="Cambiar Estado" (click)="cambiarEstado()" [disabled]="!bloquearbtnCambioEstado" /> &nbsp; &nbsp;

                        </div>
                    </div>
                </div>
            </div>
            <input type="hidden" #ModalAsociados data-toggle="modal" data-target="#ModalAsociados" data-popup="tooltip" data-trigger="hover" data-placement="top">
            <input type="hidden" #ModalAsesores data-toggle="modal" data-target="#ModalAsesores" data-popup="tooltip" data-trigger="hover" data-placement="top">
            <input type="hidden" #ModalAsesoresExterno data-toggle="modal" data-target="#ModalAsesoresExterno" data-popup="tooltip" data-trigger="hover" data-placement="top">
            <input type="hidden" #ModalAportes data-toggle="modal" data-target="#ModalAportes" data-popup="tooltip" data-trigger="hover" data-placement="top">
        </div>

        <div class="col-md-12 col-lg-12 col-sm-12 panel panel-default" id="PanelTab">
            <div class="panel-body">
                <div class="col-xs-12 col-md-12 col-lg-12">
                    <div class="tabbable">
                        <ul class="nav nav-tabs">

                            <li id="saldos" (click)="devolverTab(1)" [ngClass]="{'activar': activaSaldos === true }">
                                <a href="#tab1" data-toggle="tab">Saldos</a>
                            </li>
                            <li id="beneficiarios" (click)="devolverTab(2)" [ngClass]="{'activar': activaBeneficiarios === true }">
                                <a href="#tab2" data-toggle="tab">Beneficiarios</a>
                            </li>
                            <li id="historial" (click)="devolverTab(3)" [ngClass]="{'activar': activaHistorial === true }">
                                <a href="#tab3" data-toggle="tab">Historial</a>
                            </li>
                        </ul>
                        <div class="tab-content">

                            <!-- Inicio tab1 -->
                            <div class="tab-pane active" id="tab1">
                                <div class="col-xs-12 col-md-12 col-lg-12">
                                    <!-- Inicio SaldoInicial -->
                                    <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Saldo inicial:</label>
                                        <input style="text-align:right" class="form-control" formControlName="SaldoInicial" [attr.disabled]="Bloquear" currencyMask [options]="{prefix:'$ ',thousands:'.', decimal:',',precision: 2}">
                                    </div>
                                    <!-- Fin SaldoInicial -->

                                    <div class="col-xs-2 col-md-1 col-lg-1">
                                    </div>

                                    <!-- Inicio SaldoCanje  -->
                                    <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Saldo canje:</label>
                                        <input style="text-align:right" class="form-control" formControlName="Canje" [attr.disabled]="Bloquear" currencyMask [options]="{prefix:'$ ',thousands:'.', decimal:',',precision: 2}">
                                    </div>
                                    <!-- Fin SaldoCanje  -->

                                </div>
                                <div class="col-xs-12 col-md-12 col-lg-12">
                                    <br />
                                    <!-- Inicio Revalorización  -->
                                    <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Revalorización:</label>
                                        <input style="text-align:right" class="form-control" formControlName="SaldoRevalorizacion" [attr.disabled]="Bloquear" currencyMask [options]="{prefix:'$ ',thousands:'.', decimal:',',precision: 2}">
                                    </div>
                                    <!-- Fin Revalorización  -->

                                    <div class="col-xs-2 col-md-1 col-lg-1">
                                    </div>

                                    <!-- Inicio SaldoEfectivo -->
                                    <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Saldo efectivo:</label>
                                        <input style="text-align:right" class="form-control" formControlName="Efectivo" [attr.disabled]="Bloquear" currencyMask [options]="{prefix:'$ ',thousands:'.', decimal:',',precision: 2}">
                                    </div>
                                    <!-- Fin SaldoEfectivo -->
                                </div>
                                <div class="col-xs-12 col-md-12 col-lg-12">
                                    <br/>
                                    <div class="col-xs-2 col-md-1 col-lg-4">
                                    </div>

                                    <!-- Inicio SaldoTotal-->
                                    <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Saldo total:</label>
                                        <input style="text-align:right" type="text" class="form-control" formControlName="SaldoTotal" [attr.disabled]="Bloquear" currencyMask [options]="{prefix:'$ ',thousands:'.', decimal:',',precision: 2}">
                                    </div>
                                    <!-- Fin SaldoTotal -->

                                </div>
                            </div>
                            <!-- Fin tab1 -->

                            <!-- Inicio tab2 -->
                            <div class=" tab-pane " id="tab2">
                                <div class="col-xs-12 col-md-12 col-lg-12">
                                   <!-- Inicio tipo documento -->
                                   <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Tipo documento: <span class="grande">*</span></label>
                                        <select class="form-control" formControlName="IdTipoDocumento" id="select" [attr.disabled]="BloquearNombreBenf"> 
                                            <option *ngFor="let TipoDocumento of resultTipoDocumento"
                                            [value]="TipoDocumento.Clase">
                                            {{TipoDocumento.Descripcion}}</option>
                                        </select>
                                    </div>
                                    <!-- Fin tipo documento -->
                                    <div class="col-xs-12 col-md-1 col-lg-1"> </div>

                                     <!-- Inicio DocumentoBeneficiario -->
                                     <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Documento: <span class="grande">*</span></label>
                                        <input type="text" class="form-control" id="selectbnf" maxlength="12" minlength="5" formControlName="DocumentoBeneficiario" (blur)="BuscarBenefeciario()" (keypress)="ValidacionPuntoComa($event)" (blur)="ValidarDocumento()">
                                        <span class="help-block validationSpan" *ngIf="aportesFrom.controls['DocumentoBeneficiario'].errors?.['pattern']">
                                        El documento solo acepta números.
                                        </span>
                                    </div>
                                    
                                    <!-- Fin DocumentoBeneficiario -->
                                    <div class="col-xs-12 col-md-1 col-lg-1"> </div>

                                    <!-- Inicio PrimerApellido -->
                                    <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Primer apellido: <span *ngIf="this.aportesFrom.get('IdTipoDocumento')?.value != 3" class="grande">*</span></label>
                                        <input type="text" formControlName="PrimerApellido" class="form-control pmayuscula" [attr.disabled]="BloquearNombreBenf" id="priApe" (blur)="validarValorCampo('priApe','PrimerApellido')" />
                                        <span class="help-block validationSpan" *ngIf="aportesFrom.controls['PrimerApellido'].errors?.['pattern']">
                                        El primer apellido solo acepta letras.
                                        </span>
                                    </div>
                                    <!-- Fin PrimerApellido -->
                                    <div class="col-xs-12 col-md-1 col-lg-1"> </div>

                                    
                                </div>

                                <div class="col-xs-12 col-md-12 col-lg-12">
                                    <br/>
                                    
                                    <!-- Inicio SegundoApellido -->
                                    <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Segundo apellido:</label>
                                        <input type="text" formControlName="SegundoApellido" class="form-control pmayuscula" [attr.disabled]="BloquearNombreBenf" id="segApe" (blur)="validarValorCampo('segApe','SegundoApellido')">
                                        <span class="help-block validationSpan" *ngIf="aportesFrom.controls['SegundoApellido'].errors?.['pattern']">
                                        El segundo apellido solo acepta letras.
                                    </span>
                                    </div>
                                    <!-- Fin SegundoApellido -->
                                    <div class="col-xs-12 col-md-1 col-lg-1"> </div>

                                    <!-- Inicio PrimerNombre -->
                                    <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Primer nombre: <span class="grande">*</span> </label>
                                        <input type="text" formControlName="PrimerNombre" class="form-control pmayuscula" [attr.disabled]="BloquearNombreBenf" id="priNom" (blur)="validarValorCampo('priNom','PrimerNombre')">
                                        <span class="help-block validationSpan" *ngIf="aportesFrom.controls['PrimerNombre'].errors?.['pattern']">
                                        El primer nombre solo acepta letras.
                                        </span>
                                    </div>
                                    <!-- Fin PrimerNombre -->
                                    <div class="col-xs-12 col-md-1 col-lg-1"> </div>

                                    <!-- Inicio SegundoNombre -->
                                    <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Segundo nombre:</label>
                                        <input type="text" formControlName="SegundoNombre" class="form-control pmayuscula" [attr.disabled]="BloquearNombreBenf" id="segNom" (blur)="validarValorCampo('segNom','SegundoNombre')">
                                        <span class="help-block validationSpan" *ngIf="aportesFrom.controls['SegundoNombre'].errors?.['pattern']">
                                        El segundo nombre solo acepta letras.
                                        </span>
                                    </div>
                                    <!-- Fin SegundoNombre -->
                                    <div class="col-xs-12 col-md-1 col-lg-1"> </div>

                                
                                </div>

                                <div class="col-xs-12 col-md-12 col-lg-12">
                                        <br>
                                      <!-- Inicio Parentesco  -->
                                      <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Parentesco: <span class="grande">*</span></label>
                                        <select class="form-control" formControlName="DatosParentesco"  [attr.disabled]="BloquearDatoBenf">
                                            <option *ngFor="let Parentesco of resultParentesco" [ngValue]="Parentesco.Clase">{{Parentesco.Descripcion}}</option>
                                        </select>
                                    </div>
                                    <!-- Fin Parentesco  -->
                                    <div class="col-xs-12 col-md-1 col-lg-1"> </div>

                                    <!-- Inicio Porcentaje   -->
                                    <div class="col-xs-12 col-md-3 col-lg-3">
                                        <label class="textNegrilla">Porcentaje:<span class="grande">*</span></label>
                                        <input type="text" class="form-control" maxlength="3" formControlName="Porcentaje"  minlength="0"  [attr.disabled]="BloquearDatoBenf" (blur)="ValidarNumero()" (keypress)="ValidacionPuntoComa($event)">
                                        <span class="help-block validationSpan" *ngIf="aportesFrom.controls['Porcentaje'].errors?.['pattern']">
                                        El porcentaje solo acepta números.
                                        </span>
                                    </div>
                                    <!-- Fin Porcentaje -->
                                     
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <div class="row text-right">
                                        <br />
                                        <input type="button" class="btn Gt-btn-verde" value="Agregar" [disabled]="!bloquearDocumentoBenf" (click)="AgregarBeneficiario()" />&nbsp;&nbsp;

                                        <input type="button"  class="btn Gt-btn-morado" value="Limpiar" [disabled]="!bloquearDocumentoBenf" (click)="LimpiarBeneficiarior()" /> &nbsp;

                                        <input type="button" *ngIf="!btnActualizarBeneficiario" class="btn Gt-btn-verde" value="Actualizar" (click)="ActualizarBeneficiarios()" [disabled]="!btnActualizarBeneficiarios" />
                                    </div>

                                </div>

                                <div class="col-xs-12 col-md-12 col-lg-12">
                                    <br />                                   
                                <div class="table-responsive scrollTabla panel panel-default" *ngIf="dataObjetBeneficiarios.length > 0">
                                    <table id="TablaBeneficiarios " class="table table-hover">
                                        <thead>
                                            <tr>  
                                                <th class="Column_tipoDocumento">
                                                    <strong>Tipo documento</strong> </th>
                                                <th class="Column_Documento">
                                                    <strong>Documento</strong></th>
                                                <th class="column_NombreB">
                                                    <strong>Nombre</strong></th>
                                                <th class="Column_FechaMatricula">
                                                    <strong>Fecha Matricula</strong></th>
                                                <th class="Column_Parentesco">
                                                    <strong>Parentesco</strong></th>
                                                <th class="Column_Porcentaje">
                                                    <strong>Porcentaje</strong> </th>
                                                <th class="Column_Opciones">
                                                    <strong>Opciones</strong></th>
                                
                                            </tr>
                                        </thead>
                                        <tbody *ngFor="let Beneficiario of dataObjetBeneficiarios ; let i=index">
                                            <tr class="FilBenf_{{i}}" (click)="CambiarColor(i,2)">
                                                <td class="column_tipoDocumento column_tipoDocumento : Beneficiario.TipoDocumento.length = 25">
                                                    {{Beneficiario.DescripcionTipoDocumento}}</td>
                                                <td class="column_tipoDocumento column_tipoDocumento : Beneficiario.TipoDocumento.length = 25">
                                                    {{Beneficiario.NumeroDocumento}}</td>
                                                <td class="column_NombreB column_NombreB : Beneficiario.TipoDocumento.length = 25">
                                                    {{Beneficiario.PrimerApellido}} {{Beneficiario.SegundoApellido}} {{Beneficiario.PrimerNombre}} {{Beneficiario.SegundoNombre}}</td>
                                                <td class="column_tipoDocumento column_tipoDocumento : Beneficiario.TipoDocumento.length = 25">
                                                    {{Beneficiario.FechaMatricula | date : "yyyy/MM/dd HH:mm:00" }}</td>
                                                <td class="column_tipoDocumento column_tipoDocumento : Beneficiario.TipoDocumento.length = 25" *ngIf="Beneficiario.DatosParentesco !== null && Beneficiario.DatosParentesco !== undefined">
                                                    {{Beneficiario.DatosParentesco.Descripcion == null ? Beneficiario.DatosParentesco : Beneficiario.DatosParentesco.Descripcion }}
                                                </td>
                                                <td *ngIf="Beneficiario.DatosParentesco === null || Beneficiario.DatosParentesco === undefined">
                                                    N/A
                                                </td>
                                                <td>{{Beneficiario.Porcentaje}}</td>
                                                <td class="column_tipoDocumento column_tipoDocumento : Beneficiario.TipoDocumento.length = 25">
                                                    <button class="btn Gt-btn-verde btn-icon legitRipple" (click)="IndiceAEditarBenf(i, Beneficiario)" [disabled]="btnOpcionActualizarBeneficiario">
                                                    <i class="icon-pencil"></i></button> &nbsp;
                                                    <button class="btn Gt-btn-morado btn-icon legitRipple" (click)="IndiceAEliminarBenf(i)" [disabled]="btnOpcionActualizarBeneficiario">
                                                    <i class="icon-bin2"></i></button>
                                                </td> 
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                </div>
                                
                            </div>
                            <!-- Fin tab2 -->

                            <!-- Inicio tab3 -->
                            <div class="tab-pane " id="tab3">
                                <div class="col-xs-12 col-md-12 col-lg-12">
                                    <!-- Fechas -->
                                    <div class="col-xs-12 col-md-3 col-lg-3">
                                        <!-- Inicio Apertura -->
                                        <div class="form-group">
                                            <label class="textNegrilla">Fecha apertura:</label>
                                            <input style="text-align:left" type="text" class="form-control" formControlName="FechaApertura" [attr.disabled]="Bloquear">
                                        </div>
                                        <!-- Fin Apertura -->
                                        <!-- Inicio UltimaTransaccion   -->
                                        <div class="form-group">
                                            <label class="textNegrilla">Fecha última transacción:</label>
                                            <input style="text-align:left" type="text" class="form-control" formControlName="FechaUltimaTrans" [attr.disabled]="Bloquear">
                                        </div>
                                        <!-- Fin UltimaTransaccion  -->
                                        <!-- Inicio Retiro -->
                                        <div class="form-group">
                                            <label class="textNegrilla">Fecha retiro:</label>
                                            <input style="text-align:left" type="text" class="form-control" formControlName="FechaCancelacion" [attr.disabled]="Bloquear">
                                        </div>
                                        <!-- Fin Retiro  -->
                                        <!-- Inicio Revalorización  -->
                                        <div class="form-group">
                                            <label class="textNegrilla">Fecha revalorización:</label>
                                            <input style="text-align:left" type="text" class="form-control" formControlName="fechaRevalorizacion" [attr.disabled]="Bloquear">
                                        </div>
                                        <!-- Fin Revalorización -->
                                    </div>

                                    <!-- Historial -->
                                    <div class="col-xs-12 col-md-9 col-lg-9" *ngIf="dataHistorial.length <= 0">
                                        <br>
                                        <div class="alert alert-secondary" role="alert">
                                            No hay registros
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-md-9 col-lg-9" *ngIf="dataHistorial.length > 0">
                                        <div class="table-responsive scrollTabla panel panel-default">
                                            <table id="TablaDatosHistorial" class="table table-hover scrollTablaHistorial">
                                                <thead>
                                                    <tr>
                                                        <th class="column_Fecha">
                                                            <strong>Fecha</strong>
                                                        </th>
                                                        <th class="column_Oficina">
                                                            <strong>Oficina</strong>
                                                        </th>
                                                        <th class="column_UsuarioResponsable">
                                                            <strong>Usuario responsable</strong>
                                                        </th>
                                                        <th class="column_operacion OperacionFija">
                                                            <strong>Operación</strong>
                                                        </th>
                                                        <th [ngStyle]="{'min-width.px' : widthDetalle}">
                                                            <strong>Detalle</strong>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let historial of dataHistorial; let i = index" class="filApo_{{i}}" (click)="CambiarColor(i,1)" style="max-height: 80px;">
                                                        <td class="column_Fecha columnProductoX1_Aportes : historial.NombreCompleto.length = 25">{{historial.FechaHistorial | date:'yyyy/MM/dd HH:mm:ss'}}</td>
                                                        <td class="" [ngClass]="{'column_Oficinax2': historial.NombreOficina.length > 7}">{{historial.NombreOficina}}</td>
                                                        <td class="column_UsuarioResponsable columnProductoX_Aportes : historial.NombreCompleto.length = 40">{{historial.NombreCompleto}}</td>
                                                        <td class="column_operacion OperacionFija columnProductoX2_Aportes : historial.NombreCompleto.length = 40">{{historial.Descripcion}}</td>
                                                        <td [ngStyle]="{'min-width.px' : widthDetalle}">{{historial.Detalles}}</td>
                                                    </tr>
                                                </tbody>

                                            </table>
                                        </div>

                                    </div>

                                </div>
                            </div>
                            <!-- Fin tab3 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-3 col-md-12 col-lg-3 text-right">
            <input type="button" style="visibility:hidden" data-toggle="tab" href="#tab1" #tab1/>
            <input type="button" style="visibility:hidden" data-toggle="tab" href="#tab2" #tab2/>
            <input type="button" style="visibility:hidden" data-toggle="tab" href="#tab3" #tab3/>
        </div>
    </form>
    <ngx-loading [show]="loading" [config]="{primaryColour: primaryColour, secondaryColour: secondaryColour, tertiaryColour: primaryColour, backdropBorderRadius: '3px'}">
    </ngx-loading>
</form>
<!-- <app-root (permisosEmit)="getPermisos($event)">
</app-root> -->

<!-- Modal Ayuda -->
<div id="ModalAyuda" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-morado">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h6 class="modal-title">
                    <i class="icon-question6"></i> Ayuda</h6>
            </div>
            <div class="modal-body">
                <ul>
                    <li>Todos los campos marcados con
                        <span class="text-danger">*</span> son obligatorios.</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-morado" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--/ Fin Modal Productos -->
<div id="ModalAportes" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-morado">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h6 class="modal-title">Aportes</h6>
            </div>
            <div class="modal-body">
                <div class="table-responsive scrollTabla">
                    <table id="TablaProductos" class="table table-hover">
                        <thead>
                            <tr>
                                <th><strong>Producto</strong> </th>
                                <th><strong>Descripción Producto</strong></th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let resultAportes of resultProducto">
                            <tr (click)="MapearDatosProductos(resultAportes)">
                                <td data-dismiss="modal">
                                    {{resultAportes.IdProducto}}
                                </td>
                                <td data-dismiss="modal">
                                    {{resultAportes.DescripcionProducto}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-morado" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--/ Fin Modal Productos -->
<!--/ Fin Modal BuscarAsociados -->
<div id="ModalBuscarAsociados" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content modal-lg">
            <div class="modal-header bg-morado">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h6 class="modal-title">Asociados</h6>
            </div>
            <div class="modal-body">
                <div class="table-responsive scrollTabla">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th><strong>Cuenta</strong></th>
                                <th><strong>Nombre Asociado</strong></th>
                                <th><strong>Estado Cuenta</strong></th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let resultAsociados of dataAsociados">
                            <tr (click)="BuscarDatosCuenta(resultAsociados.IdOficina,resultAsociados.IdProducto,resultAsociados.IdConsecutivo, resultAsociados.IdDigito)">
                                <td data-dismiss="modal">
                                    {{resultAsociados.Cuenta}}
                                </td>
                                <td data-dismiss="modal">
                                    {{resultAsociados.PrimerApellido}} {{resultAsociados.SegundoApellido}} {{resultAsociados.PrimerNombre}} {{resultAsociados.SegundoNombre}}
                                </td>
                                <td data-dismiss="modal">
                                    {{resultAsociados.DescripcionEstado}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-morado" data-dismiss="modal">Cerrar</button>
            </div>


        </div>
    </div>
</div>
<!--/ Modal Asociados -->
<div id="ModalAsociados" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-morado">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h6 class="modal-title">Asociados</h6>
            </div>
            <div class="modal-body">
                <div class="table-responsive scrollTabla">
                    <table id="TablaProductos" class="table table-hover">
                        <thead>
                            <tr>
                                <th>
                                    <strong>Documento</strong>
                                </th>
                                <th>
                                    <strong>Nombre Asociado</strong>
                                </th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let asociado of dataAsociados">
                            <tr (click)="BuscarAsociadoModal(asociado.NumeroDocumento)">
                                <td data-dismiss="modal">
                                    {{asociado.NumeroDocumento}}
                                </td>
                                <td data-dismiss="modal">
                                    {{asociado.PrimerApellido + ' ' + asociado.SegundoApellido + ' ' + asociado.PrimerNombre + ' ' + asociado.SegundoNombre}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-morado" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--/ Fin Modal Asociado -->

<!--/ Modal Asesor -->
<div id="ModalAsesores" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content modal-lg">
            <div class="modal-header bg-morado">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h6 class="modal-title">Asesor</h6>
            </div>
            <div class="modal-body">
                <div class="table-responsive scrollTabla">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th><strong>Código</strong></th>
                                <th><strong>Nombre Asesor</strong></th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let resultAsesor of resultAsesores">
                            <tr (click)="MapearDatosAsesor(resultAsesor)">
                                <td data-dismiss="modal">
                                    {{resultAsesor.IdAsesor}}
                                </td>
                                <td data-dismiss="modal">
                                    {{resultAsesor.Nombre}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-morado" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<div id="ModalAsesoresExterno" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content modal-lg">
            <div class="modal-header bg-morado">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h6 class="modal-title">Asesor Externo</h6>
            </div>
            <div class="modal-body">
                <div class="table-responsive scrollTabla">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th><strong>Código</strong></th>
                                <th><strong>Nombre Asesor Externo</strong></th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let resultAsesorExterno of resultAsesoresExterno">
                            <tr (click)="MapearDatosAsesorExterno(resultAsesorExterno)">
                                <td data-dismiss="modal">
                                    {{resultAsesorExterno.intIdAsesor}}
                                </td>
                                <td data-dismiss="modal">
                                    {{resultAsesorExterno.Nombre}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-morado" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--/ Fin Modal Asesor -->