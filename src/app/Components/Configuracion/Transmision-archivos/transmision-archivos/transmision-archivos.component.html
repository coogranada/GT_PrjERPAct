<div class="panel panel-white">
    <div class="panel-heading">
        <h6 class="panel-title">Datos</h6>
        <div class="heading-elements">
            <ul class="icons-list">
                <li>
                    <a data-toggle="modal" data-target="#ModalAyuda">
                        <i class="icon-question6 " title="Ayuda" data-popup="tooltip" data-trigger="hover"
                            data-placement="top"></i>
                    </a>
                </li>
                <li>
                    <a data-action="collapse"></a>
                </li>
            </ul>
        </div>
    </div>

    <form [formGroup]="parametrosTransmisionForm" autocomplete="off">
        <div class="panel-body">
            <!-- Agrupación de Campos Generales -->
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-3 col-lg-3">
                    <label><strong>Nombre sitio:</strong></label><span class="text-danger ObligatorioGrande"> *</span>
                    <input type="text" class="form-control" formControlName="nombreSitio" maxlength="100" />
                    <span class="help-block validationSpan"
                        *ngIf="parametrosTransmisionForm.controls['nombreSitio'].errors?.['required'] && (parametrosTransmisionForm.controls['nombreSitio'].dirty || parametrosTransmisionForm.controls['nombreSitio'].touched)">
                        El nombre del sitio es obligatorio.
                    </span>
                </div>

                <div class="col-xs-12 col-md-3 col-lg-3">
                    <label><strong>Servidor:</strong></label><span class="text-danger ObligatorioGrande"> *</span>
                    <input type="text" class="form-control" formControlName="servidor" maxlength="100" />
                    <span class="help-block validationSpan"
                        *ngIf="parametrosTransmisionForm.controls['nombreSitio'].errors?.['required'] && (parametrosTransmisionForm.controls['nombreSitio'].dirty || parametrosTransmisionForm.controls['nombreSitio'].touched)">
                        El servidor es obligatorio.
                    </span>
                </div>

                <div class="col-xs-12 col-md-3 col-lg-3">
                    <label><strong>Protocolo:</strong></label><span class="text-danger ObligatorioGrande"> *</span>
                    <select class="form-control" formControlName="protocolo">
                        <option value="-">-- Seleccione --</option>
                        <option *ngFor="let protocolos of tiposProtocolos" [value]="protocolos.value">
                            {{protocolos.descripcion}}
                        </option>
                    </select>
                    <span class="help-block validationSpan"
                        *ngIf="parametrosTransmisionForm.controls['protocolo'].errors?.['required'] && (parametrosTransmisionForm.controls['protocolo'].dirty || parametrosTransmisionForm.controls['protocolo'].touched)">
                        El protocolo es obligatorio.
                    </span>
                </div>

                <div class="col-xs-12 col-md-3 col-lg-3">
                    <label><strong>Cifrado:</strong></label>
                    <input type="text" class="form-control" formControlName="cifrado" maxlength="50" />
                </div>

            </div>
            <!-- Fin Agrupación de Campos Opcionales -->

            <!-- Agrupación de Campos Auth -->
            <div class="col-xs-12 col-md-12 col-lg-12 contorno-rutas div-espacio1">
                <span class="titulo">Autenticación</span>
                <div class="col-xs-12 col-md-12 col-lg-12">
                    <div class="col-xs-12 col-md-3 col-lg-3">
                        <label><strong>Usuario:</strong></label><span class="text-danger ObligatorioGrande"> *</span>
                        <input type="text" class="form-control" formControlName="usuario" maxlength="50" />
                    </div>

                    <div class="col-xs-12 col-md-3 col-lg-3">
                        <div class="input-container">
                            <label><strong>Contraseña:</strong></label>
                            <span id="imgContrasena" data-activo="showPassword" class="glyphicon glyphicon-eye-open"
                                (click)="togglePasswordVisibility()">
                            </span>
                        </div>
                        <input [type]="showPassword ? 'text' : 'password'" class="form-control"
                            formControlName="contraseña" maxlength="50" />
                    </div>



                    <div class="col-xs-12 col-md-3 col-lg-3">
                        <label><strong>Ruta Llave:</strong></label>
                        <input type="text" class="form-control" formControlName="rutaLlave" maxlength="200" />
                    </div>

                    <div class="col-xs-12 col-md-3 col-lg-3">
                        <label><strong>Responsable:</strong></label>
                        <input type="text" class="form-control" formControlName="responsable" maxlength="50" />
                    </div>

                </div>
            </div>
            <!-- Fin Agrupación de Campos Auth -->

            <!-- Agrupación de Campos de Rutas -->
            <div class="col-xs-12 col-md-12 col-lg-12 contorno-rutas div-espacio1">
                <span class="titulo">Rutas</span>

                <div class="col-xs-12 col-md-6 col-lg-6">
                    <label><strong>Ruta local entrada:</strong></label>
                    <input type="text" class="form-control" formControlName="rutaLocalEntrada" maxlength="200" />
                </div>

                <div class="col-xs-12 col-md-6 col-lg-6">
                    <label><strong>Ruta local salida:</strong></label><span class="text-danger ObligatorioGrande">
                        *</span>
                    <input type="text" class="form-control" formControlName="rutaLocalSalida" maxlength="200" />
                </div>

                <div class="col-xs-12 col-md-6 col-lg-6 div-espacio">
                    <label><strong>Ruta remota entrada:</strong></label><span class="text-danger ObligatorioGrande">
                        *</span>
                    <input type="text" class="form-control" formControlName="rutaRemotaEntrada" maxlength="500" />
                </div>

                <div class="col-xs-12 col-md-6 col-lg-6 div-espacio">
                    <label><strong>Ruta remota salida:</strong></label>
                    <input type="text" class="form-control" formControlName="rutaRemotaSalida" maxlength="200" />
                </div>
            </div>
            <!-- Fin Agrupación de Campos de Rutas -->

            <!-- Agrupación de Campos Otros -->
            <div class="col-xs-12 col-md-12 col-lg-12 contorno-rutas div-espacio1">
                <span class="titulo">Ejecución</span>
                <div class="col-xs-12 col-md-12 col-lg-12">

                    <div class="col-xs-12 col-md-3 col-lg-3">
                        <label><strong>Frecuencia:</strong></label>
                        <input type="text" class="form-control" formControlName="frecuencia" maxlength="50" />
                    </div>

                    <div class="col-xs-12 col-md-3 col-lg-3">
                        <label><strong>Hora entrada:</strong></label>
                        <input type="time" class="form-control" formControlName="horaEntrada" />
                    </div>

                    <div class="col-xs-12 col-md-3 col-lg-3">
                        <label><strong>Hora salida:</strong></label>
                        <input type="time" class="form-control" formControlName="horaSalida" />
                    </div>

                    <div class="col-xs-12 col-md-3 col-lg-3">
                        <label><strong>GPG recipient</strong></label>
                        <input type="text" class="form-control" formControlName="gpgRecipient" maxlength="100" />
                    </div>

                </div>
            </div>

            <div class="col-xs-12 col-md-12 col-lg-12" style="justify-items: end; padding: 1em;">
                <div class="actions clearfix">
                    <button class="btn Gt-btn-morado btn-icon legitRipple" type="button">
                        LIMPIAR
                    </button>&nbsp;

                    <button class="btn Gt-btn-verde btn-icon legitRipple" type="submit">
                        <i class=""></i>&nbsp; GUARDAR
                    </button>
                </div>
            </div>

        </div>



    </form>


</div>


<!-- Tabla parámetros de configuración -->
<div class="col-md-12 col-lg-12 col-sm-12 panel panel-default" id="PanelDatos">
    <div class="panel-body ">

        <div class="table-responsive scrollTabla">
            <table id="TablaParametros" class="table table-sm">
                <thead class="text-center">
                    <tr>
                        <th><strong>Opciones</strong></th>
                        <th><strong>Tarea</strong></th>
                        <th><strong>Nombre sitio</strong></th>
                        <th><strong>Servidor</strong></th>
                        <th><strong>Activo</strong></th>
                        <th><strong>Protocolo</strong></th>
                        <th><strong>Cifrado</strong></th>
                        <th><strong>Usuario</strong></th>
                        <th><strong>Responsable</strong></th>
                        <th><strong>Frecuencia</strong></th>
                        <th><strong>Hora entrada</strong></th>
                        <th><strong>Hora salida</strong></th>
                        <th><strong>Ruta local entrada</strong></th>
                        <th><strong>Ruta local salida</strong></th>
                        <th><strong>Ruta remota entrada</strong></th>
                        <th style="width: 250%;"><strong>Ruta remota salida</strong></th>
                        <th><strong>GPG recipient</strong></th>
                        <th><strong>Ruta llave</strong></th>
                        <th><strong>Creado</strong></th>

                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let parametro of parametrosTransm" [ngClass]="{'selected-row': selectedRow === parametro}"
                        class="table-row" (click)="selectRow(parametro)">
                        <td>
                            <button class="btn Gt-btn-verde btn-icon legitRipple">
                                <i class="icon-pencil"></i></button> &nbsp;
                            <button class="btn Gt-btn-morado btn-icon legitRipple">
                                <i class="glyphicon glyphicon-time"></i></button>
                        </td>
                        <td class="text-center">{{parametro.IdParametro}}</td>
                        <td>{{parametro.NombreSitio}}</td>
                        <td>{{parametro.Servidor}}</td>
                        <td class="text-center"><input class="check-dis" type="checkbox"
                                [checked]="parametro.Estado === 5"></td>
                        <td class="text-center">{{parametro.Protocolo}}</td>
                        <td class="text-center">{{parametro.Cifrado}}</td>
                        <td>{{parametro.Usuario}}</td>
                        <td>{{parametro.CorreoResponsable}}</td>
                        <td class="text-center">{{parametro.Frecuencia}}</td>
                        <td class="text-center">{{parametro.HoraEntrada}}</td>
                        <td class="text-center">{{parametro.HoraSalida}}</td>
                        <td>{{parametro.RutaLocalEntrada}}</td>
                        <td>{{parametro.RutaLocalSalida}}</td>
                        <td class="text-truncate">{{parametro.RutaRemotaEntrada}}</td>
                        <td style="width: 250%;">{{parametro.RutaRemotaSalida}}</td>
                        <td>{{parametro.GPGRecipient}}</td>
                        <td>{{parametro.RutaLlave}}</td>
                        <td>{{parametro.FechaCreacion | date:'yyyy/MM/dd'}}</td>
                    </tr>

                </tbody>
            </table>
        </div>
    </div>
</div>
<!-- Fin Tabla usuarios proveedores -->
<!-- Modal Ayuda -->
<div id="ModalAyuda" class="modal fade">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header bg-morado">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h6 class="modal-title"><i class="icon-question6"></i> Ayuda</h6>
            </div>
            <div class="modal-body">
                <ul>
                    <li>Todos los campos marcados con <span class="text-danger">*</span> son obligatorios.</li>
                    <li>Para guardar la configuración debe presionar el botón "Guardar".</li>
                    <li>Para actualizar la configuración se debe dar clic sobre el botón editar de la tabla.</li>
                    <li>GPG Recipient es la persona o entidad a la que se le envía un mensaje cifrado usando GPG (GNU
                        Privacy Guard). Este receptor tiene la clave privada necesaria para descifrar el mensaje.</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-morado" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--  Fin Modal Ayuda -->